const pageBody=document.querySelector(".page-body"),sliderItems=document.querySelectorAll(".slider__item"),sliderButtons=document.querySelectorAll(".slider__button");let sliderControls=document.querySelector(".slider__controls");const writeUsLink=document.querySelector(".contacts__link"),writeUsModal=document.querySelector(".write-us"),writeUsClose=document.querySelector(".write-us--close"),overlay=document.querySelector(".overlay"),subscribeForm=document.querySelector(".subscribe__form"),subscribeInput=subscribeForm.querySelector("input"),subscribeEmail=subscribeForm.querySelector("[name=subscribe-email]"),subscribeButton=subscribeForm.querySelector("button"),userName=writeUsModal.querySelector("[name=user-name]"),userEmail=writeUsModal.querySelector("[name=user-email]"),userText=writeUsModal.querySelector("[name=user-text]"),writeUsForm=writeUsModal.querySelector("form"),storageUserName=localStorage.getItem("user-name"),isStorageSupport=!0;let storage="";try{storage=localStorage.getItem("user-name")}catch(e){isStorageSupport=!1}writeUsLink.addEventListener("click",function(e){e.preventDefault(),writeUsModal.classList.add("modal-show"),writeUsForm.classList.remove("submit-error"),storageUserName?(userName.value=storageUserName,userEmail.focus()):userName.focus()}),subscribeForm.addEventListener("submit",function(e){subscribeEmail.value||(e.preventDefault(),subscribeForm.classList.remove("submit-error"),subscribeForm.offsetWidth=subscribeForm.offsetWidth,subscribeForm.classList.add("submit-error"))}),writeUsForm.addEventListener("submit",function(e){userName.value&&userEmail.value&&userText.value?isStorageSupport&&localStorage.setItem("user-name",userName.value):(e.preventDefault(),writeUsForm.classList.remove("submit-error"),writeUsForm.offsetWidth=writeUsForm.offsetWidth,writeUsForm.classList.add("submit-error"))}),writeUsClose.addEventListener("click",function(e){e.preventDefault(),writeUsModal.classList.remove("modal-show"),writeUsForm.classList.remove("submit-error")}),overlay.addEventListener("click",function(){writeUsModal.classList.remove("modal-show"),writeUsForm.classList.remove("submit-error")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(mapModal.classList.contains("modal-show")?(e.preventDefault(),mapModal.classList.remove("modal-show")):writeUsModal.classList.contains("modal-show")&&(e.preventDefault(),writeUsModal.classList.remove("modal-show"),writeUsForm.classList.remove("submit-error")))}),sliderButtons[0].addEventListener("click",function(e){e.preventDefault(),sliderItems[0].classList.add("slider__item--active"),sliderItems[1].classList.remove("slider__item--active"),sliderItems[2].classList.remove("slider__item--active"),sliderButtons[0].classList.add("slider__button--active"),sliderButtons[1].classList.remove("slider__button--active"),sliderButtons[2].classList.remove("slider__button--active"),(pageBody.classList.contains("bg-silvergrey")||pageBody.classList.contains("bg-coffee"))&&(pageBody.classList.remove("bg-silvergrey"),pageBody.classList.remove("bg-coffee"))}),sliderButtons[1].addEventListener("click",function(e){e.preventDefault(),sliderItems[1].classList.add("slider__item--active"),sliderItems[0].classList.remove("slider__item--active"),sliderItems[2].classList.remove("slider__item--active"),sliderButtons[1].classList.add("slider__button--active"),sliderButtons[0].classList.remove("slider__button--active"),sliderButtons[2].classList.remove("slider__button--active"),pageBody.classList.contains("bg-silvergrey")&&!pageBody.classList.contains("bg-coffee")||(pageBody.classList.remove("bg-coffee"),pageBody.classList.add("bg-silvergrey"))}),sliderButtons[2].addEventListener("click",function(e){e.preventDefault(),sliderItems[2].classList.add("slider__item--active"),sliderItems[0].classList.remove("slider__item--active"),sliderItems[1].classList.remove("slider__item--active"),sliderButtons[2].classList.add("slider__button--active"),sliderButtons[0].classList.remove("slider__button--active"),sliderButtons[1].classList.remove("slider__button--active"),!pageBody.classList.contains("bg-silvergrey")&&pageBody.classList.contains("bg-coffee")||(pageBody.classList.remove("bg-silvergrey"),pageBody.classList.add("bg-coffee"))});
